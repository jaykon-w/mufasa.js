!function(root,factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?module.exports=factory():root.Handlebars=root.Handlebars||factory()}(this,function(){var __module4__=function(){"use strict";function SafeString(string){this.string=string}var __exports__;return SafeString.prototype.toString=function(){return""+this.string},__exports__=SafeString}(),__module3__=function(__dependency1__){"use strict";function escapeChar(chr){return escape[chr]}function extend(obj){for(var i=1;i<arguments.length;i++)for(var key in arguments[i])Object.prototype.hasOwnProperty.call(arguments[i],key)&&(obj[key]=arguments[i][key]);return obj}function escapeExpression(string){return string instanceof SafeString?string.toString():null==string?"":string?(string=""+string,possible.test(string)?string.replace(badChars,escapeChar):string):string+""}function isEmpty(value){return value||0===value?isArray(value)&&0===value.length?!0:!1:!0}function appendContextPath(contextPath,id){return(contextPath?contextPath+".":"")+id}var __exports__={},SafeString=__dependency1__,escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},badChars=/[&<>"'`]/g,possible=/[&<>"'`]/;__exports__.extend=extend;var toString=Object.prototype.toString;__exports__.toString=toString;var isFunction=function(value){return"function"==typeof value};isFunction(/x/)&&(isFunction=function(value){return"function"==typeof value&&"[object Function]"===toString.call(value)});var isFunction;__exports__.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&"object"==typeof value?"[object Array]"===toString.call(value):!1};return __exports__.isArray=isArray,__exports__.escapeExpression=escapeExpression,__exports__.isEmpty=isEmpty,__exports__.appendContextPath=appendContextPath,__exports__}(__module4__),__module5__=function(){"use strict";function Exception(message,node){var line;node&&node.firstLine&&(line=node.firstLine,message+=" - "+line+":"+node.firstColumn);for(var tmp=Error.prototype.constructor.call(this,message),idx=0;idx<errorProps.length;idx++)this[errorProps[idx]]=tmp[errorProps[idx]];line&&(this.lineNumber=line,this.column=node.firstColumn)}var __exports__,errorProps=["description","fileName","lineNumber","message","name","number","stack"];return Exception.prototype=new Error,__exports__=Exception}(),__module2__=function(__dependency1__,__dependency2__){"use strict";function HandlebarsEnvironment(helpers,partials){this.helpers=helpers||{},this.partials=partials||{},registerDefaultHelpers(this)}function registerDefaultHelpers(instance){instance.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new Exception("Missing helper: '"+arguments[arguments.length-1].name+"'")}),instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse,fn=options.fn;if(context===!0)return fn(this);if(context===!1||null==context)return inverse(this);if(isArray(context))return context.length>0?(options.ids&&(options.ids=[options.name]),instance.helpers.each(context,options)):inverse(this);if(options.data&&options.ids){var data=createFrame(options.data);data.contextPath=Utils.appendContextPath(options.data.contextPath,options.name),options={data:data}}return fn(context,options)}),instance.registerHelper("each",function(context,options){if(!options)throw new Exception("Must pass iterator to #each");var data,contextPath,fn=options.fn,inverse=options.inverse,i=0,ret="";if(options.data&&options.ids&&(contextPath=Utils.appendContextPath(options.data.contextPath,options.ids[0])+"."),isFunction(context)&&(context=context.call(this)),options.data&&(data=createFrame(options.data)),context&&"object"==typeof context)if(isArray(context))for(var j=context.length;j>i;i++)data&&(data.index=i,data.first=0===i,data.last=i===context.length-1,contextPath&&(data.contextPath=contextPath+i)),ret+=fn(context[i],{data:data});else for(var key in context)context.hasOwnProperty(key)&&(data&&(data.key=key,data.index=i,data.first=0===i,contextPath&&(data.contextPath=contextPath+key)),ret+=fn(context[key],{data:data}),i++);return 0===i&&(ret=inverse(this)),ret}),instance.registerHelper("if",function(conditional,options){return isFunction(conditional)&&(conditional=conditional.call(this)),!options.hash.includeZero&&!conditional||Utils.isEmpty(conditional)?options.inverse(this):options.fn(this)}),instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})}),instance.registerHelper("with",function(context,options){isFunction(context)&&(context=context.call(this));var fn=options.fn;if(Utils.isEmpty(context))return options.inverse(this);if(options.data&&options.ids){var data=createFrame(options.data);data.contextPath=Utils.appendContextPath(options.data.contextPath,options.ids[0]),options={data:data}}return fn(context,options)}),instance.registerHelper("log",function(message,options){var level=options.data&&null!=options.data.level?parseInt(options.data.level,10):1;instance.log(level,message)}),instance.registerHelper("lookup",function(obj,field){return obj&&obj[field]})}var __exports__={},Utils=__dependency1__,Exception=__dependency2__,VERSION="2.0.0";__exports__.VERSION=VERSION;var COMPILER_REVISION=6;__exports__.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};__exports__.REVISION_CHANGES=REVISION_CHANGES;var isArray=Utils.isArray,isFunction=Utils.isFunction,toString=Utils.toString,objectType="[object Object]";__exports__.HandlebarsEnvironment=HandlebarsEnvironment,HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:logger,log:log,registerHelper:function(name,fn){if(toString.call(name)===objectType){if(fn)throw new Exception("Arg not supported with multiple helpers");Utils.extend(this.helpers,name)}else this.helpers[name]=fn},unregisterHelper:function(name){delete this.helpers[name]},registerPartial:function(name,partial){toString.call(name)===objectType?Utils.extend(this.partials,name):this.partials[name]=partial},unregisterPartial:function(name){delete this.partials[name]}};var logger={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(level,message){if(logger.level<=level){var method=logger.methodMap[level];"undefined"!=typeof console&&console[method]&&console[method].call(console,message)}}};__exports__.logger=logger;var log=logger.log;__exports__.log=log;var createFrame=function(object){var frame=Utils.extend({},object);return frame._parent=object,frame};return __exports__.createFrame=createFrame,__exports__}(__module3__,__module5__),__module6__=function(__dependency1__,__dependency2__,__dependency3__){"use strict";function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=COMPILER_REVISION;if(compilerRevision!==currentRevision){if(currentRevision>compilerRevision){var runtimeVersions=REVISION_CHANGES[currentRevision],compilerVersions=REVISION_CHANGES[compilerRevision];throw new Exception("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}throw new Exception("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+compilerInfo[1]+").")}}function template(templateSpec,env){if(!env)throw new Exception("No environment passed to template");if(!templateSpec||!templateSpec.main)throw new Exception("Unknown template object: "+typeof templateSpec);env.VM.checkRevision(templateSpec.compiler);var invokePartialWrapper=function(partial,indent,name,context,hash,helpers,partials,data,depths){hash&&(context=Utils.extend({},context,hash));var result=env.VM.invokePartial.call(this,partial,name,context,helpers,partials,data,depths);if(null==result&&env.compile){var options={helpers:helpers,partials:partials,data:data,depths:depths};partials[name]=env.compile(partial,{data:void 0!==data,compat:templateSpec.compat},env),result=partials[name](context,options)}if(null!=result){if(indent){for(var lines=result.split("\n"),i=0,l=lines.length;l>i&&(lines[i]||i+1!==l);i++)lines[i]=indent+lines[i];result=lines.join("\n")}return result}throw new Exception("The partial "+name+" could not be compiled when running in runtime-only mode")},container={lookup:function(depths,name){for(var len=depths.length,i=0;len>i;i++)if(depths[i]&&null!=depths[i][name])return depths[i][name]},lambda:function(current,context){return"function"==typeof current?current.call(context):current},escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function(i){return templateSpec[i]},programs:[],program:function(i,data,depths){var programWrapper=this.programs[i],fn=this.fn(i);return data||depths?programWrapper=program(this,i,fn,data,depths):programWrapper||(programWrapper=this.programs[i]=program(this,i,fn)),programWrapper},data:function(data,depth){for(;data&&depth--;)data=data._parent;return data},merge:function(param,common){var ret=param||common;return param&&common&&param!==common&&(ret=Utils.extend({},common,param)),ret},noop:env.VM.noop,compilerInfo:templateSpec.compiler},ret=function(context,options){options=options||{};var data=options.data;ret._setup(options),!options.partial&&templateSpec.useData&&(data=initData(context,data));var depths;return templateSpec.useDepths&&(depths=options.depths?[context].concat(options.depths):[context]),templateSpec.main.call(container,context,container.helpers,container.partials,data,depths)};return ret.isTop=!0,ret._setup=function(options){options.partial?(container.helpers=options.helpers,container.partials=options.partials):(container.helpers=container.merge(options.helpers,env.helpers),templateSpec.usePartial&&(container.partials=container.merge(options.partials,env.partials)))},ret._child=function(i,data,depths){if(templateSpec.useDepths&&!depths)throw new Exception("must pass parent depths");return program(container,i,templateSpec[i],data,depths)},ret}function program(container,i,fn,data,depths){var prog=function(context,options){return options=options||{},fn.call(container,context,container.helpers,container.partials,options.data||data,depths&&[context].concat(depths))};return prog.program=i,prog.depth=depths?depths.length:0,prog}function invokePartial(partial,name,context,helpers,partials,data,depths){var options={partial:!0,helpers:helpers,partials:partials,data:data,depths:depths};if(void 0===partial)throw new Exception("The partial "+name+" could not be found");return partial instanceof Function?partial(context,options):void 0}function noop(){return""}function initData(context,data){return data&&"root"in data||(data=data?createFrame(data):{},data.root=context),data}var __exports__={},Utils=__dependency1__,Exception=__dependency2__,COMPILER_REVISION=__dependency3__.COMPILER_REVISION,REVISION_CHANGES=__dependency3__.REVISION_CHANGES,createFrame=__dependency3__.createFrame;return __exports__.checkRevision=checkRevision,__exports__.template=template,__exports__.program=program,__exports__.invokePartial=invokePartial,__exports__.noop=noop,__exports__}(__module3__,__module5__,__module2__),__module1__=function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){"use strict";var __exports__,base=__dependency1__,SafeString=__dependency2__,Exception=__dependency3__,Utils=__dependency4__,runtime=__dependency5__,create=function(){var hb=new base.HandlebarsEnvironment;return Utils.extend(hb,base),hb.SafeString=SafeString,hb.Exception=Exception,hb.Utils=Utils,hb.escapeExpression=Utils.escapeExpression,hb.VM=runtime,hb.template=function(spec){return runtime.template(spec,hb)},hb},Handlebars=create();return Handlebars.create=create,Handlebars["default"]=Handlebars,__exports__=Handlebars}(__module2__,__module4__,__module5__,__module3__,__module6__),__module7__=function(__dependency1__){"use strict";function LocationInfo(locInfo){locInfo=locInfo||{},this.firstLine=locInfo.first_line,this.firstColumn=locInfo.first_column,this.lastColumn=locInfo.last_column,this.lastLine=locInfo.last_line}var __exports__,Exception=__dependency1__,AST={ProgramNode:function(statements,strip,locInfo){LocationInfo.call(this,locInfo),this.type="program",this.statements=statements,this.strip=strip},MustacheNode:function(rawParams,hash,open,strip,locInfo){if(LocationInfo.call(this,locInfo),this.type="mustache",this.strip=strip,null!=open&&open.charAt){var escapeFlag=open.charAt(3)||open.charAt(2);this.escaped="{"!==escapeFlag&&"&"!==escapeFlag}else this.escaped=!!open;this.sexpr=rawParams instanceof AST.SexprNode?rawParams:new AST.SexprNode(rawParams,hash),this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(rawParams,hash,locInfo){LocationInfo.call(this,locInfo),this.type="sexpr",this.hash=hash;var id=this.id=rawParams[0],params=this.params=rawParams.slice(1);this.isHelper=!(!params.length&&!hash),this.eligibleHelper=this.isHelper||id.isSimple},PartialNode:function(partialName,context,hash,strip,locInfo){LocationInfo.call(this,locInfo),this.type="partial",this.partialName=partialName,this.context=context,this.hash=hash,this.strip=strip,this.strip.inlineStandalone=!0},BlockNode:function(mustache,program,inverse,strip,locInfo){LocationInfo.call(this,locInfo),this.type="block",this.mustache=mustache,this.program=program,this.inverse=inverse,this.strip=strip,inverse&&!program&&(this.isInverse=!0)},RawBlockNode:function(mustache,content,close,locInfo){if(LocationInfo.call(this,locInfo),mustache.sexpr.id.original!==close)throw new Exception(mustache.sexpr.id.original+" doesn't match "+close,this);content=new AST.ContentNode(content,locInfo),this.type="block",this.mustache=mustache,this.program=new AST.ProgramNode([content],{},locInfo)},ContentNode:function(string,locInfo){LocationInfo.call(this,locInfo),this.type="content",this.original=this.string=string},HashNode:function(pairs,locInfo){LocationInfo.call(this,locInfo),this.type="hash",this.pairs=pairs},IdNode:function(parts,locInfo){LocationInfo.call(this,locInfo),this.type="ID";for(var original="",dig=[],depth=0,depthString="",i=0,l=parts.length;l>i;i++){var part=parts[i].part;if(original+=(parts[i].separator||"")+part,".."===part||"."===part||"this"===part){if(dig.length>0)throw new Exception("Invalid path: "+original,this);".."===part?(depth++,depthString+="../"):this.isScoped=!0}else dig.push(part)}this.original=original,this.parts=dig,this.string=dig.join("."),this.depth=depth,this.idName=depthString+this.string,this.isSimple=1===parts.length&&!this.isScoped&&0===depth,this.stringModeValue=this.string},PartialNameNode:function(name,locInfo){LocationInfo.call(this,locInfo),this.type="PARTIAL_NAME",this.name=name.original},DataNode:function(id,locInfo){LocationInfo.call(this,locInfo),this.type="DATA",this.id=id,this.stringModeValue=id.stringModeValue,this.idName="@"+id.stringModeValue},StringNode:function(string,locInfo){LocationInfo.call(this,locInfo),this.type="STRING",this.original=this.string=this.stringModeValue=string},NumberNode:function(number,locInfo){LocationInfo.call(this,locInfo),this.type="NUMBER",this.original=this.number=number,this.stringModeValue=Number(number)},BooleanNode:function(bool,locInfo){LocationInfo.call(this,locInfo),this.type="BOOLEAN",this.bool=bool,this.stringModeValue="true"===bool},CommentNode:function(comment,locInfo){LocationInfo.call(this,locInfo),this.type="comment",this.comment=comment,this.strip={inlineStandalone:!0}}};return __exports__=AST}(__module5__),__module9__=function(){"use strict";var __exports__,handlebars=function(){function Parser(){this.yy={}}var parser={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,CONTENT:12,COMMENT:13,openRawBlock:14,END_RAW_BLOCK:15,OPEN_RAW_BLOCK:16,sexpr:17,CLOSE_RAW_BLOCK:18,openBlock:19,block_option0:20,closeBlock:21,openInverse:22,block_option1:23,OPEN_BLOCK:24,CLOSE:25,OPEN_INVERSE:26,inverseAndProgram:27,INVERSE:28,OPEN_ENDBLOCK:29,path:30,OPEN:31,OPEN_UNESCAPED:32,CLOSE_UNESCAPED:33,OPEN_PARTIAL:34,partialName:35,param:36,partial_option0:37,partial_option1:38,sexpr_repetition0:39,sexpr_option0:40,dataName:41,STRING:42,NUMBER:43,BOOLEAN:44,OPEN_SEXPR:45,CLOSE_SEXPR:46,hash:47,hash_repetition_plus0:48,hashSegment:49,ID:50,EQUALS:51,DATA:52,pathSegments:53,SEP:54,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",12:"CONTENT",13:"COMMENT",15:"END_RAW_BLOCK",16:"OPEN_RAW_BLOCK",18:"CLOSE_RAW_BLOCK",24:"OPEN_BLOCK",25:"CLOSE",26:"OPEN_INVERSE",28:"INVERSE",29:"OPEN_ENDBLOCK",31:"OPEN",32:"OPEN_UNESCAPED",33:"CLOSE_UNESCAPED",34:"OPEN_PARTIAL",42:"STRING",43:"NUMBER",44:"BOOLEAN",45:"OPEN_SEXPR",46:"CLOSE_SEXPR",50:"ID",51:"EQUALS",52:"DATA",54:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[10,3],[14,3],[9,4],[9,4],[19,3],[22,3],[27,2],[21,3],[8,3],[8,3],[11,5],[11,4],[17,3],[17,1],[36,1],[36,1],[36,1],[36,1],[36,1],[36,3],[47,1],[49,3],[35,1],[35,1],[35,1],[41,2],[30,1],[53,3],[53,1],[6,0],[6,2],[20,0],[20,1],[23,0],[23,1],[37,0],[37,1],[38,0],[38,1],[39,0],[39,2],[40,0],[40,1],[48,1],[48,2]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$){var $0=$$.length-1;switch(yystate){case 1:return yy.prepareProgram($$[$0-1].statements,!0),$$[$0-1];case 2:this.$=new yy.ProgramNode(yy.prepareProgram($$[$0]),{},this._$);break;case 3:this.$=$$[$0];break;case 4:this.$=$$[$0];break;case 5:this.$=$$[$0];break;case 6:this.$=$$[$0];break;case 7:this.$=new yy.ContentNode($$[$0],this._$);break;case 8:this.$=new yy.CommentNode($$[$0],this._$);break;case 9:this.$=new yy.RawBlockNode($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 10:this.$=new yy.MustacheNode($$[$0-1],null,"","",this._$);break;case 11:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],!1,this._$);break;case 12:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],!0,this._$);break;case 13:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],yy.stripFlags($$[$0-2],$$[$0]),this._$);break;case 14:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],yy.stripFlags($$[$0-2],$$[$0]),this._$);break;case 15:this.$={strip:yy.stripFlags($$[$0-1],$$[$0-1]),program:$$[$0]};break;case 16:this.$={path:$$[$0-1],strip:yy.stripFlags($$[$0-2],$$[$0])};break;case 17:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],yy.stripFlags($$[$0-2],$$[$0]),this._$);break;case 18:this.$=new yy.MustacheNode($$[$0-1],null,$$[$0-2],yy.stripFlags($$[$0-2],$$[$0]),this._$);break;case 19:this.$=new yy.PartialNode($$[$0-3],$$[$0-2],$$[$0-1],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 20:this.$=new yy.PartialNode($$[$0-2],void 0,$$[$0-1],yy.stripFlags($$[$0-3],$$[$0]),this._$);break;case 21:this.$=new yy.SexprNode([$$[$0-2]].concat($$[$0-1]),$$[$0],this._$);break;case 22:this.$=new yy.SexprNode([$$[$0]],null,this._$);break;case 23:this.$=$$[$0];break;case 24:this.$=new yy.StringNode($$[$0],this._$);break;case 25:this.$=new yy.NumberNode($$[$0],this._$);break;case 26:this.$=new yy.BooleanNode($$[$0],this._$);break;case 27:this.$=$$[$0];break;case 28:$$[$0-1].isHelper=!0,this.$=$$[$0-1];break;case 29:this.$=new yy.HashNode($$[$0],this._$);break;case 30:this.$=[$$[$0-2],$$[$0]];break;case 31:this.$=new yy.PartialNameNode($$[$0],this._$);break;case 32:this.$=new yy.PartialNameNode(new yy.StringNode($$[$0],this._$),this._$);break;case 33:this.$=new yy.PartialNameNode(new yy.NumberNode($$[$0],this._$));break;case 34:this.$=new yy.DataNode($$[$0],this._$);break;case 35:this.$=new yy.IdNode($$[$0],this._$);break;case 36:$$[$0-2].push({part:$$[$0],separator:$$[$0-1]}),this.$=$$[$0-2];break;case 37:this.$=[{part:$$[$0]}];break;case 38:this.$=[];break;case 39:$$[$0-1].push($$[$0]);break;case 48:this.$=[];break;case 49:$$[$0-1].push($$[$0]);break;case 52:this.$=[$$[$0]];break;case 53:$$[$0-1].push($$[$0])}},table:[{3:1,4:2,5:[2,38],6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],31:[2,38],32:[2,38],34:[2,38]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:[1,10],13:[1,11],14:16,16:[1,20],19:14,22:15,24:[1,18],26:[1,19],28:[2,2],29:[2,2],31:[1,12],32:[1,13],34:[1,17]},{1:[2,1]},{5:[2,39],12:[2,39],13:[2,39],16:[2,39],24:[2,39],26:[2,39],28:[2,39],29:[2,39],31:[2,39],32:[2,39],34:[2,39]},{5:[2,3],12:[2,3],13:[2,3],16:[2,3],24:[2,3],26:[2,3],28:[2,3],29:[2,3],31:[2,3],32:[2,3],34:[2,3]},{5:[2,4],12:[2,4],13:[2,4],16:[2,4],24:[2,4],26:[2,4],28:[2,4],29:[2,4],31:[2,4],32:[2,4],34:[2,4]},{5:[2,5],12:[2,5],13:[2,5],16:[2,5],24:[2,5],26:[2,5],28:[2,5],29:[2,5],31:[2,5],32:[2,5],34:[2,5]},{5:[2,6],12:[2,6],13:[2,6],16:[2,6],24:[2,6],26:[2,6],28:[2,6],29:[2,6],31:[2,6],32:[2,6],34:[2,6]},{5:[2,7],12:[2,7],13:[2,7],16:[2,7],24:[2,7],26:[2,7],28:[2,7],29:[2,7],31:[2,7],32:[2,7],34:[2,7]},{5:[2,8],12:[2,8],13:[2,8],16:[2,8],24:[2,8],26:[2,8],28:[2,8],29:[2,8],31:[2,8],32:[2,8],34:[2,8]},{17:21,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:27,30:22,41:23,50:[1,26],52:[1,25],53:24},{4:28,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{4:29,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{12:[1,30]},{30:32,35:31,42:[1,33],43:[1,34],50:[1,26],53:24},{17:35,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:36,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:37,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[1,38]},{18:[2,48],25:[2,48],33:[2,48],39:39,42:[2,48],43:[2,48],44:[2,48],45:[2,48],46:[2,48],50:[2,48],52:[2,48]},{18:[2,22],25:[2,22],33:[2,22],46:[2,22]},{18:[2,35],25:[2,35],33:[2,35],42:[2,35],43:[2,35],44:[2,35],45:[2,35],46:[2,35],50:[2,35],52:[2,35],54:[1,40]},{30:41,50:[1,26],53:24},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],52:[2,37],54:[2,37]},{33:[1,42]},{20:43,27:44,28:[1,45],29:[2,40]},{23:46,27:47,28:[1,45],29:[2,42]},{15:[1,48]},{25:[2,46],30:51,36:49,38:50,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],47:57,48:58,49:60,50:[1,59],52:[1,25],53:24},{25:[2,31],42:[2,31],43:[2,31],44:[2,31],45:[2,31],50:[2,31],52:[2,31]},{25:[2,32],42:[2,32],43:[2,32],44:[2,32],45:[2,32],50:[2,32],52:[2,32]},{25:[2,33],42:[2,33],43:[2,33],44:[2,33],45:[2,33],50:[2,33],52:[2,33]},{25:[1,61]},{25:[1,62]},{18:[1,63]},{5:[2,17],12:[2,17],13:[2,17],16:[2,17],24:[2,17],26:[2,17],28:[2,17],29:[2,17],31:[2,17],32:[2,17],34:[2,17]},{18:[2,50],25:[2,50],30:51,33:[2,50],36:65,40:64,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],46:[2,50],47:66,48:58,49:60,50:[1,59],52:[1,25],53:24},{50:[1,67]},{18:[2,34],25:[2,34],33:[2,34],42:[2,34],43:[2,34],44:[2,34],45:[2,34],46:[2,34],50:[2,34],52:[2,34]},{5:[2,18],12:[2,18],13:[2,18],16:[2,18],24:[2,18],26:[2,18],28:[2,18],29:[2,18],31:[2,18],32:[2,18],34:[2,18]},{21:68,29:[1,69]},{29:[2,41]},{4:70,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{21:71,29:[1,69]},{29:[2,43]},{5:[2,9],12:[2,9],13:[2,9],16:[2,9],24:[2,9],26:[2,9],28:[2,9],29:[2,9],31:[2,9],32:[2,9],34:[2,9]},{25:[2,44],37:72,47:73,48:58,49:60,50:[1,74]},{25:[1,75]},{18:[2,23],25:[2,23],33:[2,23],42:[2,23],43:[2,23],44:[2,23],45:[2,23],46:[2,23],50:[2,23],52:[2,23]},{18:[2,24],25:[2,24],33:[2,24],42:[2,24],43:[2,24],44:[2,24],45:[2,24],46:[2,24],50:[2,24],52:[2,24]},{18:[2,25],25:[2,25],33:[2,25],42:[2,25],43:[2,25],44:[2,25],45:[2,25],46:[2,25],50:[2,25],52:[2,25]},{18:[2,26],25:[2,26],33:[2,26],42:[2,26],43:[2,26],44:[2,26],45:[2,26],46:[2,26],50:[2,26],52:[2,26]},{18:[2,27],25:[2,27],33:[2,27],42:[2,27],43:[2,27],44:[2,27],45:[2,27],46:[2,27],50:[2,27],52:[2,27]},{17:76,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[2,47]},{18:[2,29],25:[2,29],33:[2,29],46:[2,29],49:77,50:[1,74]},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],51:[1,78],52:[2,37],54:[2,37]},{18:[2,52],25:[2,52],33:[2,52],46:[2,52],50:[2,52]},{12:[2,13],13:[2,13],16:[2,13],24:[2,13],26:[2,13],28:[2,13],29:[2,13],31:[2,13],32:[2,13],34:[2,13]},{12:[2,14],13:[2,14],16:[2,14],24:[2,14],26:[2,14],28:[2,14],29:[2,14],31:[2,14],32:[2,14],34:[2,14]},{12:[2,10]},{18:[2,21],25:[2,21],33:[2,21],46:[2,21]},{18:[2,49],25:[2,49],33:[2,49],42:[2,49],43:[2,49],44:[2,49],45:[2,49],46:[2,49],50:[2,49],52:[2,49]},{18:[2,51],25:[2,51],33:[2,51],46:[2,51]},{18:[2,36],25:[2,36],33:[2,36],42:[2,36],43:[2,36],44:[2,36],45:[2,36],46:[2,36],50:[2,36],52:[2,36],54:[2,36]},{5:[2,11],12:[2,11],13:[2,11],16:[2,11],24:[2,11],26:[2,11],28:[2,11],29:[2,11],31:[2,11],32:[2,11],34:[2,11]},{30:79,50:[1,26],53:24},{29:[2,15]},{5:[2,12],12:[2,12],13:[2,12],16:[2,12],24:[2,12],26:[2,12],28:[2,12],29:[2,12],31:[2,12],32:[2,12],34:[2,12]},{25:[1,80]},{25:[2,45]},{51:[1,78]},{5:[2,20],12:[2,20],13:[2,20],16:[2,20],24:[2,20],26:[2,20],28:[2,20],29:[2,20],31:[2,20],32:[2,20],34:[2,20]},{46:[1,81]},{18:[2,53],25:[2,53],33:[2,53],46:[2,53],50:[2,53]},{30:51,36:82,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],50:[1,26],52:[1,25],53:24},{25:[1,83]},{5:[2,19],12:[2,19],13:[2,19],16:[2,19],24:[2,19],26:[2,19],28:[2,19],29:[2,19],31:[2,19],32:[2,19],34:[2,19]},{18:[2,28],25:[2,28],33:[2,28],42:[2,28],43:[2,28],44:[2,28],45:[2,28],46:[2,28],50:[2,28],52:[2,28]},{18:[2,30],25:[2,30],33:[2,30],46:[2,30],50:[2,30]},{5:[2,16],12:[2,16],13:[2,16],16:[2,16],24:[2,16],26:[2,16],28:[2,16],29:[2,16],31:[2,16],32:[2,16],34:[2,16]}],defaultActions:{4:[2,1],44:[2,41],47:[2,43],57:[2,47],63:[2,10],70:[2,15],73:[2,45]},parseError:function(str){throw new Error(str)},parse:function(input){function lex(){var token;return token=self.lexer.lex()||1,"number"!=typeof token&&(token=self.symbols_[token]||token),token}var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0;this.lexer.setInput(input),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:((null===symbol||"undefined"==typeof symbol)&&(symbol=lex()),action=table[state]&&table[state][symbol]),"undefined"==typeof action||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=this.lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(this.lexer.yytext),lstack.push(this.lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack),"undefined"!=typeof r)return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input){return this._input=input,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);return lines?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len-1),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this},more:function(){return this._more=!0,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var token,match,tempMatch,index,lines;this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length&&(tempMatch=this._input.match(this.rules[rules[i]]),!tempMatch||match&&!(tempMatch[0].length>match[0].length)||(match=tempMatch,index=i,this.options.flex));i++);return match?(lines=match[0].match(/(?:\r\n?|\n).*/g),lines&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token?token:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();
return"undefined"!=typeof r?r:this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)}};return lexer.options={},lexer.performAction=function(yy,yy_,$avoiding_name_collisions,YY_START){function strip(start,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)}switch($avoiding_name_collisions){case 0:if("\\\\"===yy_.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===yy_.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),yy_.yytext)return 12;break;case 1:return 12;case 2:return this.popState(),12;case 3:return yy_.yytext=yy_.yytext.substr(5,yy_.yyleng-9),this.popState(),15;case 4:return 12;case 5:return strip(0,4),this.popState(),13;case 6:return 45;case 7:return 46;case 8:return 16;case 9:return this.popState(),this.begin("raw"),18;case 10:return 34;case 11:return 24;case 12:return 29;case 13:return this.popState(),28;case 14:return this.popState(),28;case 15:return 26;case 16:return 26;case 17:return 32;case 18:return 31;case 19:this.popState(),this.begin("com");break;case 20:return strip(3,5),this.popState(),13;case 21:return 31;case 22:return 51;case 23:return 50;case 24:return 50;case 25:return 54;case 26:break;case 27:return this.popState(),33;case 28:return this.popState(),25;case 29:return yy_.yytext=strip(1,2).replace(/\\"/g,'"'),42;case 30:return yy_.yytext=strip(1,2).replace(/\\'/g,"'"),42;case 31:return 52;case 32:return 44;case 33:return 44;case 34:return 43;case 35:return 50;case 36:return yy_.yytext=strip(1,2),50;case 37:return"INVALID";case 38:return 5}},lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],lexer.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,38],inclusive:!0}},lexer}();return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();return __exports__=handlebars}(),__module10__=function(__dependency1__){"use strict";function stripFlags(open,close){return{left:"~"===open.charAt(2),right:"~"===close.charAt(close.length-3)}}function prepareBlock(mustache,program,inverseAndProgram,close,inverted,locInfo){if(mustache.sexpr.id.original!==close.path.original)throw new Exception(mustache.sexpr.id.original+" doesn't match "+close.path.original,mustache);var inverse=inverseAndProgram&&inverseAndProgram.program,strip={left:mustache.strip.left,right:close.strip.right,openStandalone:isNextWhitespace(program.statements),closeStandalone:isPrevWhitespace((inverse||program).statements)};if(mustache.strip.right&&omitRight(program.statements,null,!0),inverse){var inverseStrip=inverseAndProgram.strip;inverseStrip.left&&omitLeft(program.statements,null,!0),inverseStrip.right&&omitRight(inverse.statements,null,!0),close.strip.left&&omitLeft(inverse.statements,null,!0),isPrevWhitespace(program.statements)&&isNextWhitespace(inverse.statements)&&(omitLeft(program.statements),omitRight(inverse.statements))}else close.strip.left&&omitLeft(program.statements,null,!0);return inverted?new this.BlockNode(mustache,inverse,program,strip,locInfo):new this.BlockNode(mustache,program,inverse,strip,locInfo)}function prepareProgram(statements,isRoot){for(var i=0,l=statements.length;l>i;i++){var current=statements[i],strip=current.strip;if(strip){var _isPrevWhitespace=isPrevWhitespace(statements,i,isRoot,"partial"===current.type),_isNextWhitespace=isNextWhitespace(statements,i,isRoot),openStandalone=strip.openStandalone&&_isPrevWhitespace,closeStandalone=strip.closeStandalone&&_isNextWhitespace,inlineStandalone=strip.inlineStandalone&&_isPrevWhitespace&&_isNextWhitespace;strip.right&&omitRight(statements,i,!0),strip.left&&omitLeft(statements,i,!0),inlineStandalone&&(omitRight(statements,i),omitLeft(statements,i)&&"partial"===current.type&&(current.indent=/([ \t]+$)/.exec(statements[i-1].original)?RegExp.$1:"")),openStandalone&&(omitRight((current.program||current.inverse).statements),omitLeft(statements,i)),closeStandalone&&(omitRight(statements,i),omitLeft((current.inverse||current.program).statements))}}return statements}function isPrevWhitespace(statements,i,isRoot){void 0===i&&(i=statements.length);var prev=statements[i-1],sibling=statements[i-2];return prev?"content"===prev.type?(sibling||!isRoot?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(prev.original):void 0:isRoot}function isNextWhitespace(statements,i,isRoot){void 0===i&&(i=-1);var next=statements[i+1],sibling=statements[i+2];return next?"content"===next.type?(sibling||!isRoot?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(next.original):void 0:isRoot}function omitRight(statements,i,multiple){var current=statements[null==i?0:i+1];if(current&&"content"===current.type&&(multiple||!current.rightStripped)){var original=current.string;current.string=current.string.replace(multiple?/^\s+/:/^[ \t]*\r?\n?/,""),current.rightStripped=current.string!==original}}function omitLeft(statements,i,multiple){var current=statements[null==i?statements.length-1:i-1];if(current&&"content"===current.type&&(multiple||!current.leftStripped)){var original=current.string;return current.string=current.string.replace(multiple?/\s+$/:/[ \t]+$/,""),current.leftStripped=current.string!==original,current.leftStripped}}var __exports__={},Exception=__dependency1__;return __exports__.stripFlags=stripFlags,__exports__.prepareBlock=prepareBlock,__exports__.prepareProgram=prepareProgram,__exports__}(__module5__),__module8__=function(__dependency1__,__dependency2__,__dependency3__,__dependency4__){"use strict";function parse(input){return input.constructor===AST.ProgramNode?input:(parser.yy=yy,parser.parse(input))}var __exports__={},parser=__dependency1__,AST=__dependency2__,Helpers=__dependency3__,extend=__dependency4__.extend;__exports__.parser=parser;var yy={};return extend(yy,Helpers,AST),__exports__.parse=parse,__exports__}(__module9__,__module7__,__module10__,__module3__),__module11__=function(__dependency1__,__dependency2__){"use strict";function Compiler(){}function precompile(input,options,env){if(null==input||"string"!=typeof input&&input.constructor!==env.AST.ProgramNode)throw new Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input);options=options||{},"data"in options||(options.data=!0),options.compat&&(options.useDepths=!0);var ast=env.parse(input),environment=(new env.Compiler).compile(ast,options);return(new env.JavaScriptCompiler).compile(environment,options)}function compile(input,options,env){function compileInput(){var ast=env.parse(input),environment=(new env.Compiler).compile(ast,options),templateSpec=(new env.JavaScriptCompiler).compile(environment,options,void 0,!0);return env.template(templateSpec)}if(null==input||"string"!=typeof input&&input.constructor!==env.AST.ProgramNode)throw new Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input);options=options||{},"data"in options||(options.data=!0),options.compat&&(options.useDepths=!0);var compiled,ret=function(context,options){return compiled||(compiled=compileInput()),compiled.call(this,context,options)};return ret._setup=function(options){return compiled||(compiled=compileInput()),compiled._setup(options)},ret._child=function(i,data,depths){return compiled||(compiled=compileInput()),compiled._child(i,data,depths)},ret}function argEquals(a,b){if(a===b)return!0;if(isArray(a)&&isArray(b)&&a.length===b.length){for(var i=0;i<a.length;i++)if(!argEquals(a[i],b[i]))return!1;return!0}}var __exports__={},Exception=__dependency1__,isArray=__dependency2__.isArray,slice=[].slice;return __exports__.Compiler=Compiler,Compiler.prototype={compiler:Compiler,equals:function(other){var len=this.opcodes.length;if(other.opcodes.length!==len)return!1;for(var i=0;len>i;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||!argEquals(opcode.args,otherOpcode.args))return!1}for(len=this.children.length,i=0;len>i;i++)if(!this.children[i].equals(other.children[i]))return!1;return!0},guid:0,compile:function(program,options){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=options,this.stringParams=options.stringParams,this.trackIds=options.trackIds;var knownHelpers=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},knownHelpers)for(var name in knownHelpers)this.options.knownHelpers[name]=knownHelpers[name];return this.accept(program)},accept:function(node){return this[node.type](node)},program:function(program){for(var statements=program.statements,i=0,l=statements.length;l>i;i++)this.accept(statements[i]);return this.isSimple=1===l,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(program){var depth,result=(new this.compiler).compile(program,this.options),guid=this.guid++;this.usePartial=this.usePartial||result.usePartial,this.children[guid]=result;for(var i=0,l=result.depths.list.length;l>i;i++)depth=result.depths.list[i],2>depth||this.addDepth(depth-1);return guid},block:function(block){var mustache=block.mustache,program=block.program,inverse=block.inverse;program&&(program=this.compileProgram(program)),inverse&&(inverse=this.compileProgram(inverse));var sexpr=mustache.sexpr,type=this.classifySexpr(sexpr);"helper"===type?this.helperSexpr(sexpr,program,inverse):"simple"===type?(this.simpleSexpr(sexpr),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("blockValue",sexpr.id.original)):(this.ambiguousSexpr(sexpr,program,inverse),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(hash){var i,l,pairs=hash.pairs;for(this.opcode("pushHash"),i=0,l=pairs.length;l>i;i++)this.pushParam(pairs[i][1]);for(;i--;)this.opcode("assignToHash",pairs[i][0]);this.opcode("popHash")},partial:function(partial){var partialName=partial.partialName;this.usePartial=!0,partial.hash?this.accept(partial.hash):this.opcode("push","undefined"),partial.context?this.accept(partial.context):(this.opcode("getContext",0),this.opcode("pushContext")),this.opcode("invokePartial",partialName.name,partial.indent||""),this.opcode("append")},content:function(content){content.string&&this.opcode("appendContent",content.string)},mustache:function(mustache){this.sexpr(mustache.sexpr),this.opcode(mustache.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(sexpr,program,inverse){var id=sexpr.id,name=id.parts[0],isBlock=null!=program||null!=inverse;this.opcode("getContext",id.depth),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.ID(id),this.opcode("invokeAmbiguous",name,isBlock)},simpleSexpr:function(sexpr){var id=sexpr.id;"DATA"===id.type?this.DATA(id):id.parts.length?this.ID(id):(this.addDepth(id.depth),this.opcode("getContext",id.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),id=sexpr.id,name=id.parts[0];if(this.options.knownHelpers[name])this.opcode("invokeKnownHelper",params.length,name);else{if(this.options.knownHelpersOnly)throw new Exception("You specified knownHelpersOnly, but used the unknown helper "+name,sexpr);id.falsy=!0,this.ID(id),this.opcode("invokeHelper",params.length,id.original,id.isSimple)}},sexpr:function(sexpr){var type=this.classifySexpr(sexpr);"simple"===type?this.simpleSexpr(sexpr):"helper"===type?this.helperSexpr(sexpr):this.ambiguousSexpr(sexpr)},ID:function(id){this.addDepth(id.depth),this.opcode("getContext",id.depth);var name=id.parts[0];name?this.opcode("lookupOnContext",id.parts,id.falsy,id.isScoped):this.opcode("pushContext")},DATA:function(data){this.options.data=!0,this.opcode("lookupData",data.id.depth,data.id.parts)},STRING:function(string){this.opcode("pushString",string.string)},NUMBER:function(number){this.opcode("pushLiteral",number.number)},BOOLEAN:function(bool){this.opcode("pushLiteral",bool.bool)},comment:function(){},opcode:function(name){this.opcodes.push({opcode:name,args:slice.call(arguments,1)})},addDepth:function(depth){0!==depth&&(this.depths[depth]||(this.depths[depth]=!0,this.depths.list.push(depth)))},classifySexpr:function(sexpr){var isHelper=sexpr.isHelper,isEligible=sexpr.eligibleHelper,options=this.options;if(isEligible&&!isHelper){var name=sexpr.id.parts[0];options.knownHelpers[name]?isHelper=!0:options.knownHelpersOnly&&(isEligible=!1)}return isHelper?"helper":isEligible?"ambiguous":"simple"},pushParams:function(params){for(var i=0,l=params.length;l>i;i++)this.pushParam(params[i])},pushParam:function(val){this.stringParams?(val.depth&&this.addDepth(val.depth),this.opcode("getContext",val.depth||0),this.opcode("pushStringParam",val.stringModeValue,val.type),"sexpr"===val.type&&this.sexpr(val)):(this.trackIds&&this.opcode("pushId",val.type,val.idName||val.stringModeValue),this.accept(val))},setupFullMustacheParams:function(sexpr,program,inverse){var params=sexpr.params;return this.pushParams(params),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),sexpr.hash?this.hash(sexpr.hash):this.opcode("emptyHash"),params}},__exports__.precompile=precompile,__exports__.compile=compile,__exports__}(__module5__,__module3__),__module12__=function(__dependency1__,__dependency2__){"use strict";function Literal(value){this.value=value}function JavaScriptCompiler(){}var __exports__,COMPILER_REVISION=__dependency1__.COMPILER_REVISION,REVISION_CHANGES=__dependency1__.REVISION_CHANGES,Exception=__dependency2__;JavaScriptCompiler.prototype={nameLookup:function(parent,name){return JavaScriptCompiler.isValidJavaScriptVariableName(name)?parent+"."+name:parent+"['"+name+"']"},depthedLookup:function(name){return this.aliases.lookup="this.lookup",'lookup(depths, "'+name+'")'},compilerInfo:function(){var revision=COMPILER_REVISION,versions=REVISION_CHANGES[revision];return[revision,versions]},appendToBuffer:function(string){return this.environment.isSimple?"return "+string+";":{appendToBuffer:!0,content:string,toString:function(){return"buffer += "+string+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(environment,options,context,asObject){this.environment=environment,this.options=options,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!asObject,this.name=this.environment.name,this.isChild=!!context,this.context=context||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(environment,options),this.useDepths=this.useDepths||environment.depths.list.length||this.options.compat;var opcode,i,l,opcodes=environment.opcodes;for(i=0,l=opcodes.length;l>i;i++)opcode=opcodes[i],this[opcode.opcode].apply(this,opcode.args);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new Exception("Compile completed with content left on stack");var fn=this.createFunctionContext(asObject);if(this.isChild)return fn;var ret={compiler:this.compilerInfo(),main:fn},programs=this.context.programs;for(i=0,l=programs.length;l>i;i++)programs[i]&&(ret[i]=programs[i]);return this.environment.usePartial&&(ret.usePartial=!0),this.options.data&&(ret.useData=!0),this.useDepths&&(ret.useDepths=!0),this.options.compat&&(ret.compat=!0),asObject||(ret.compiler=JSON.stringify(ret.compiler),ret=this.objectLiteral(ret)),ret},preamble:function(){this.lastContext=0,this.source=[]},createFunctionContext:function(asObject){var varDeclarations="",locals=this.stackVars.concat(this.registers.list);locals.length>0&&(varDeclarations+=", "+locals.join(", "));for(var alias in this.aliases)this.aliases.hasOwnProperty(alias)&&(varDeclarations+=", "+alias+"="+this.aliases[alias]);var params=["depth0","helpers","partials","data"];this.useDepths&&params.push("depths");var source=this.mergeSource(varDeclarations);return asObject?(params.push(source),Function.apply(this,params)):"function("+params.join(",")+") {\n  "+source+"}"},mergeSource:function(varDeclarations){for(var buffer,appendFirst,source="",appendOnly=!this.forceBuffer,i=0,len=this.source.length;len>i;i++){var line=this.source[i];line.appendToBuffer?buffer=buffer?buffer+"\n    + "+line.content:line.content:(buffer&&(source?source+="buffer += "+buffer+";\n  ":(appendFirst=!0,source=buffer+";\n  "),buffer=void 0),source+=line+"\n  ",this.environment.isSimple||(appendOnly=!1))}return appendOnly?(buffer||!source)&&(source+="return "+(buffer||'""')+";\n"):(varDeclarations+=", buffer = "+(appendFirst?"":this.initializeBuffer()),source+=buffer?"return buffer + "+buffer+";\n":"return buffer;\n"),varDeclarations&&(source="var "+varDeclarations.substring(2)+(appendFirst?"":";\n  ")+source),source},blockValue:function(name){this.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=[this.contextName(0)];this.setupParams(name,0,params);var blockName=this.popStack();params.splice(1,0,blockName),this.push("blockHelperMissing.call("+params.join(", ")+")")},ambiguousBlockValue:function(){this.aliases.blockHelperMissing="helpers.blockHelperMissing";var params=[this.contextName(0)];this.setupParams("",0,params,!0),this.flushInline();var current=this.topStack();params.splice(1,0,current),this.pushSource("if (!"+this.lastHelper+") { "+current+" = blockHelperMissing.call("+params.join(", ")+"); }")},appendContent:function(content){this.pendingContent&&(content=this.pendingContent+content),this.pendingContent=content},append:function(){this.flushInline();var local=this.popStack();this.pushSource("if ("+local+" != null) { "+this.appendToBuffer(local)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(depth){this.lastContext=depth},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(parts,falsy,scoped){var i=0,len=parts.length;for(scoped||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(parts[i++]));len>i;i++)this.replaceStack(function(current){var lookup=this.nameLookup(current,parts[i],"context");return falsy?" && "+lookup:" != null ? "+lookup+" : "+current})},lookupData:function(depth,parts){this.pushStackLiteral(depth?"this.data(data, "+depth+")":"data");for(var len=parts.length,i=0;len>i;i++)this.replaceStack(function(current){return" && "+this.nameLookup(current,parts[i],"data")})},resolvePossibleLambda:function(){this.aliases.lambda="this.lambda",this.push("lambda("+this.popStack()+", "+this.contextName(0)+")")},pushStringParam:function(string,type){this.pushContext(),this.pushString(type),"sexpr"!==type&&("string"==typeof string?this.pushString(string):this.pushStackLiteral(string))},emptyHash:function(){this.pushStackLiteral("{}"),this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var hash=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push("{"+hash.ids.join(",")+"}"),this.stringParams&&(this.push("{"+hash.contexts.join(",")+"}"),this.push("{"+hash.types.join(",")+"}")),this.push("{\n    "+hash.values.join(",\n    ")+"\n  }")},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},push:function(expr){return this.inlineStack.push(expr),expr},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){this.pushStackLiteral(null!=guid?this.programExpression(guid):null)},invokeHelper:function(paramSize,name,isSimple){this.aliases.helperMissing="helpers.helperMissing";var nonHelper=this.popStack(),helper=this.setupHelper(paramSize,name),lookup=(isSimple?helper.name+" || ":"")+nonHelper+" || helperMissing";this.push("(("+lookup+").call("+helper.callParams+"))")},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(helper.name+".call("+helper.callParams+")")},invokeAmbiguous:function(name,helperCall){this.aliases.functionType='"function"',this.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var nonHelper=this.popStack();this.emptyHash();var helper=this.setupHelper(0,name,helperCall),helperName=this.lastHelper=this.nameLookup("helpers",name,"helper");this.push("((helper = (helper = "+helperName+" || "+nonHelper+") != null ? helper : helperMissing"+(helper.paramsInit?"),("+helper.paramsInit:"")+"),(typeof helper === functionType ? helper.call("+helper.callParams+") : helper))")},invokePartial:function(name,indent){var params=[this.nameLookup("partials",name,"partial"),"'"+indent+"'","'"+name+"'",this.popStack(),this.popStack(),"helpers","partials"];this.options.data?params.push("data"):this.options.compat&&params.push("undefined"),this.options.compat&&params.push("depths"),this.push("this.invokePartial("+params.join(", ")+")")},assignToHash:function(key){var context,type,id,value=this.popStack();this.trackIds&&(id=this.popStack()),this.stringParams&&(type=this.popStack(),context=this.popStack());var hash=this.hash;context&&hash.contexts.push("'"+key+"': "+context),type&&hash.types.push("'"+key+"': "+type),id&&hash.ids.push("'"+key+"': "+id),hash.values.push("'"+key+"': ("+value+")")},pushId:function(type,name){"ID"===type||"DATA"===type?this.pushString(name):this.pushStackLiteral("sexpr"===type?"true":"null")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){for(var child,compiler,children=environment.children,i=0,l=children.length;l>i;i++){child=children[i],compiler=new this.compiler;var index=this.matchExistingProgram(child);null==index?(this.context.programs.push(""),index=this.context.programs.length,child.index=index,child.name="program"+index,this.context.programs[index]=compiler.compile(child,options,this.context,!this.precompile),this.context.environments[index]=child,this.useDepths=this.useDepths||compiler.useDepths):(child.index=index,child.name="program"+index)}},matchExistingProgram:function(child){for(var i=0,len=this.context.environments.length;len>i;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child))return i}},programExpression:function(guid){var child=this.environment.children[guid],useDepths=(child.depths.list,this.useDepths),programParams=[child.index,"data"];return useDepths&&programParams.push("depths"),"this.program("+programParams.join(", ")+")"},useRegister:function(name){this.registers[name]||(this.registers[name]=!0,this.registers.list.push(name))},pushStackLiteral:function(item){return this.push(new Literal(item))},pushSource:function(source){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),source&&this.source.push(source)},pushStack:function(item){this.flushInline();var stack=this.incrStack();return this.pushSource(stack+" = "+item+";"),this.compileStack.push(stack),stack},replaceStack:function(callback){{var stack,createdStack,usedLiteral,prefix="";this.isInline()}if(!this.isInline())throw new Exception("replaceStack on non-inline");var top=this.popStack(!0);if(top instanceof Literal)prefix=stack=top.value,usedLiteral=!0;else{createdStack=!this.stackSlot;var name=createdStack?this.incrStack():this.topStackName();prefix="("+this.push(name)+" = "+top+")",stack=this.topStack()}var item=callback.call(this,stack);usedLiteral||this.popStack(),createdStack&&this.stackSlot--,this.push("("+prefix+item+")")},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var inlineStack=this.inlineStack;if(inlineStack.length){this.inlineStack=[];for(var i=0,len=inlineStack.length;len>i;i++){var entry=inlineStack[i];entry instanceof Literal?this.compileStack.push(entry):this.pushStack(entry)}}},isInline:function(){return this.inlineStack.length},popStack:function(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal)return item.value;if(!inline){if(!this.stackSlot)throw new Exception("Invalid stack pop");this.stackSlot--}return item},topStack:function(){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];return item instanceof Literal?item.value:item},contextName:function(context){return this.useDepths&&context?"depths["+context+"]":"depth"+context},quotedString:function(str){return'"'+str.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(obj){var pairs=[];for(var key in obj)obj.hasOwnProperty(key)&&pairs.push(this.quotedString(key)+":"+obj[key]);return"{"+pairs.join(",")+"}"},setupHelper:function(paramSize,name,blockHelper){var params=[],paramsInit=this.setupParams(name,paramSize,params,blockHelper),foundHelper=this.nameLookup("helpers",name,"helper");return{params:params,paramsInit:paramsInit,name:foundHelper,callParams:[this.contextName(0)].concat(params).join(", ")}},setupOptions:function(helper,paramSize,params){var param,inverse,program,options={},contexts=[],types=[],ids=[];options.name=this.quotedString(helper),options.hash=this.popStack(),this.trackIds&&(options.hashIds=this.popStack()),this.stringParams&&(options.hashTypes=this.popStack(),options.hashContexts=this.popStack()),inverse=this.popStack(),program=this.popStack(),(program||inverse)&&(program||(program="this.noop"),inverse||(inverse="this.noop"),options.fn=program,options.inverse=inverse);for(var i=paramSize;i--;)param=this.popStack(),params[i]=param,this.trackIds&&(ids[i]=this.popStack()),this.stringParams&&(types[i]=this.popStack(),contexts[i]=this.popStack());return this.trackIds&&(options.ids="["+ids.join(",")+"]"),this.stringParams&&(options.types="["+types.join(",")+"]",options.contexts="["+contexts.join(",")+"]"),this.options.data&&(options.data="data"),options},setupParams:function(helperName,paramSize,params,useRegister){var options=this.objectLiteral(this.setupOptions(helperName,paramSize,params));return useRegister?(this.useRegister("options"),params.push("options"),"options="+options):(params.push(options),"")}};for(var reservedWords="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),compilerWords=JavaScriptCompiler.RESERVED_WORDS={},i=0,l=reservedWords.length;l>i;i++)compilerWords[reservedWords[i]]=!0;return JavaScriptCompiler.isValidJavaScriptVariableName=function(name){return!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)},__exports__=JavaScriptCompiler}(__module2__,__module5__),__module0__=function(__dependency1__,__dependency2__,__dependency3__,__dependency4__,__dependency5__){"use strict";var __exports__,Handlebars=__dependency1__,AST=__dependency2__,Parser=__dependency3__.parser,parse=__dependency3__.parse,Compiler=__dependency4__.Compiler,compile=__dependency4__.compile,precompile=__dependency4__.precompile,JavaScriptCompiler=__dependency5__,_create=Handlebars.create,create=function(){var hb=_create();return hb.compile=function(input,options){return compile(input,options,hb)},hb.precompile=function(input,options){return precompile(input,options,hb)},hb.AST=AST,hb.Compiler=Compiler,hb.JavaScriptCompiler=JavaScriptCompiler,hb.Parser=Parser,hb.parse=parse,hb};return Handlebars=create(),Handlebars.create=create,Handlebars["default"]=Handlebars,__exports__=Handlebars}(__module1__,__module7__,__module8__,__module11__,__module12__);return __module0__}),function(w){var routes=[],map={},reference="routie",oldReference=w[reference],Route=function(path,name){this.name=name,this.path=path,this.keys=[],this.fns=[],this.params={},this.regex=pathToRegexp(this.path,this.keys,!1,!1)};Route.prototype.addHandler=function(fn){this.fns.push(fn)},Route.prototype.removeHandler=function(fn){for(var i=0,c=this.fns.length;c>i;i++){var f=this.fns[i];if(fn==f)return void this.fns.splice(i,1)}},Route.prototype.run=function(params){for(var i=0,c=this.fns.length;c>i;i++)this.fns[i].apply(this,params)},Route.prototype.match=function(path,params){var m=this.regex.exec(path);if(!m)return!1;for(var i=1,len=m.length;len>i;++i){var key=this.keys[i-1],val="string"==typeof m[i]?decodeURIComponent(m[i]):m[i];key&&(this.params[key.name]=val),params.push(val)}return!0},Route.prototype.toURL=function(params){var path=this.path;for(var param in params)path=path.replace("/:"+param,"/"+params[param]);if(path=path.replace(/\/:.*\?/g,"/").replace(/\?/g,""),-1!=path.indexOf(":"))throw new Error("missing parameters for url: "+path);return path};var pathToRegexp=function(path,keys,sensitive,strict){return path instanceof RegExp?path:(path instanceof Array&&(path="("+path.join("|")+")"),path=path.concat(strict?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(_,slash,format,key,capture,optional){return keys.push({name:key,optional:!!optional}),slash=slash||"",""+(optional?"":slash)+"(?:"+(optional?slash:"")+(format||"")+(capture||format&&"([^/.]+?)"||"([^/]+?)")+")"+(optional||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+path+"$",sensitive?"":"i"))},addHandler=function(path,fn){var s=path.split(" "),name=2==s.length?s[0]:null;path=2==s.length?s[1]:s[0],map[path]||(map[path]=new Route(path,name),routes.push(map[path])),map[path].addHandler(fn)},routie=function(path,fn){if("function"==typeof fn)addHandler(path,fn),routie.reload();else if("object"==typeof path){for(var p in path)addHandler(p,path[p]);routie.reload()}else"undefined"==typeof fn&&routie.navigate(path)};routie.lookup=function(name,obj){for(var i=0,c=routes.length;c>i;i++){var route=routes[i];if(route.name==name)return route.toURL(obj)}},routie.remove=function(path,fn){var route=map[path];route&&route.removeHandler(fn)},routie.removeAll=function(){map={},routes=[]},routie.navigate=function(path,options){options=options||{};var silent=options.silent||!1;
silent&&removeListener(),setTimeout(function(){window.location.hash=path,silent&&setTimeout(function(){addListener()},1)},1)},routie.noConflict=function(){return w[reference]=oldReference,routie};var getHash=function(){return window.location.hash.substring(1)},checkRoute=function(hash,route){var params=[];return route.match(hash,params)?(route.run(params),!0):!1},hashChanged=routie.reload=function(){for(var hash=getHash(),i=0,c=routes.length;c>i;i++){var route=routes[i];if(checkRoute(hash,route))return}},addListener=function(){w.addEventListener?w.addEventListener("hashchange",hashChanged,!1):w.attachEvent("onhashchange",hashChanged)},removeListener=function(){w.removeEventListener?w.removeEventListener("hashchange",hashChanged):w.detachEvent("onhashchange",hashChanged)};addListener(),w[reference]=routie}(window),function(){var $,AbstractComponent,Application,BridgeInterface,Button,Component,Container,Controller,Core,Divider,Hdb,ListView,Mixin,Observable,Proxy,Record,Socket,Spacer,Store,Template,Toolbar,View,routie,__slice=[].slice,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};this.mf={clone:function(obj){var attr,copy;if(null===obj||"object"!=typeof obj)return obj;copy=obj.constructor();for(attr in obj)obj.hasOwnProperty(attr)&&(copy[attr]=obj[attr]);return copy},lastInternalId:0,isMobile:function(){var check;return check=!1,function(a){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino\/i.test(a)||\/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))?check=!0:640>innerWidth?check=!0:void 0}(navigator.userAgent||navigator.vendor||this.opera),check}},routie=this.routie,Object.defineProperty(String.prototype,"camelize",{value:function(){return this.replace(/(?:^|[-_])(\w)/g,function(_,c){return c?c.toUpperCase():""})}}),Object.defineProperty(Array.prototype,"contains",{value:function(val){return!!~this.indexOf(val)}}),JSON.serialize=function(obj,prefix){var k,p,str,v;str=[];for(p in obj)obj.hasOwnProperty(p)&&(k=prefix?prefix+"["+p+"]":p,v=obj[p],str.push("object"==typeof v?JSON.serialize(v,k):encodeURIComponent(k)+"="+encodeURIComponent(v)));return str.join("&")},$=this.$,Hdb=this.Handlebars,Hdb.registerHelper("Store",function(item,opt){var inc,list,obj,ret,store,_base,_i,_len;for(ret="",opt.data.root instanceof Array&&(store=new Store({data:opt.data.root}),list=store.getData()),opt.data.root.hasOwnProperty("store")&&(store=("function"==typeof(_base=opt.data.root).getStore?_base.getStore():void 0)||opt.data.root,list=store.getData()),inc=0,_i=0,_len=list.length;_len>_i;_i++)obj=list[_i],ret+=$(opt.fn(obj)).first().attr("data-record-internal-id",store.store[inc++].id)[0].outerHTML;return ret}),Hdb.registerHelper("Component",function(item,opt){var comp,ret;return ret="",comp=item,comp.parent=opt.data.root,comp.xml=$(comp.xml).first().attr("data-id","component-container-"+mf.lastInternalId++)[0].outerHTML,comp.renderTo=function(){return opt.data.root.query("[data-id="+$(comp.xml).first().attr("data-id")+"]")},comp.afterRenderFunction=function(){return comp.render(),comp.checkForSpecialProperties(comp.renderTo()[0])},opt.data.root.on("afterrender",comp.afterRenderFunction,!0),new Handlebars.SafeString(comp.xml)}),Core=function(){function Core(){this._className=this.constructor.name}return Core.prototype.applyConfig=function(prototype,config,replace){var key,value,_results;null==replace&&(replace=!0),_results=[];for(key in config)value=config[key],replace?(prototype[key]=config[key],_results.push(this.defineGetSet(key,prototype))):prototype[key]?_results.push(void 0):(prototype[key]=config[key],_results.push(this.defineGetSet(key,prototype)));return _results},Core.prototype.defineGetSet=function(key,prototype){return"function"!=typeof prototype[key]&&(null==prototype["get"+key.camelize()]&&(prototype["get"+key.camelize()]=function(){return this[key]}),null==prototype["set"+key.camelize()])?prototype["set"+key.camelize()]=function(e){return this[key]=e,this.render()}:void 0},Core}(),this.mf.Core=Core,Mixin=function(){function Mixin(){}return Mixin.use=function(){var key,mixin,mixins,value,_i,_len,_ref;for(mixins=1<=arguments.length?__slice.call(arguments,0):[],_i=0,_len=mixins.length;_len>_i;_i++){mixin=mixins[_i],_ref=mixin.prototype;for(key in _ref)value=_ref[key],this.prototype[key]=value}return this},Mixin}(),this.mf.Mixin=Mixin,Observable=function(_super){function Observable(){this.events={},this._listeners={},this.setInitialListeners(),Observable.__super__.constructor.call(this)}var emitEvents;return __extends(Observable,_super),emitEvents=!0,Observable.prototype.addEvent=function(events){var ev,_i,_len,_ref,_results;for(this.events=Array.isArray(events)?events:[events],_ref=this.events,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)ev=_ref[_i],_results.push(null==this._listeners[ev]?this._listeners[ev]=[]:void 0);return _results},Observable.prototype.fireEvent=function(){var args,callback,ev,event,listener,result,_i,_j,_len,_len1,_ref;if(event=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[],result=!1,Array.isArray(event))for(_i=0,_len=event.length;_len>_i;_i++)ev=event[_i],result=this.fireEvent.apply(this,[ev].concat(args));else if(emitEvents){if(null!=this._listeners[event]&&this._listeners[event].length>0)for(_ref=this._listeners[event],_j=0,_len1=_ref.length;_len1>_j;_j++)callback=_ref[_j],listener=callback,listener.fn.apply(this,args.length===!1?this:args),listener.single&&this.un(event,listener.fn);result=!0}else result=!1;return result},Observable.prototype.on=function(event,callback,single){return null==single&&(single=!1),this.addEvent(event),this._listeners[event].push({fn:callback,single:single})},Observable.prototype.un=function(event,callback){var index;return index=this._listeners[event].map(function(e){return e.fn}).indexOf(callback),index>=0&&this._listeners[event].splice(index,1),!0},Observable.prototype.setInitialListeners=function(){var k,v,_ref,_results;if(null!=this.listeners){_ref=this.listeners(),_results=[];for(k in _ref)v=_ref[k],_results.push(this.on(k,v));return _results}},Observable.prototype.enableEvents=function(bol){return emitEvents=bol},Observable}(Core),this.mf.Observable=Observable,Controller=function(_super){function Controller(){Controller.__super__.constructor.call(this,this)}return __extends(Controller,_super),Controller}(Observable),this.mf.Controller=Controller,View=function(_super){function View(config){null==config&&(config={}),View.__super__.constructor.call(this,config)}return __extends(View,_super),View}(Observable),this.mf.View=View,Application=function(_super){function Application(config){null==config&&(config={}),window.MyMF={},this.applyConfig(this,config),window.MyMF[this.appName]=[],Application.context=window.MyMF[this.appName],Application.__super__.constructor.call(this,this),this.addEvent(["launch","ready"]),"function"==typeof this.init&&this.init(),initialListeners.call(this),$(function(_this){return function(){return _this.fireEvent("ready",_this)}}(this))}var initialListeners;return __extends(Application,_super),Application.prototype.appName="app",Application.context=null,initialListeners=function(){return this.on("ready",function(_this){return function(){return null!=_this.launch?_this.launch():void 0}}(this))},Application}(Observable),this.mf.Application=Application,Template=function(_super){function Template(config){var tpl;null==config&&(config={}),this.applyConfig(this,config),Template.__super__.constructor.call(this,this),tpl="object"==typeof config?config.tpl:config,this.addEvent(["beforecompile","aftercompile"]),/\.hdb$/.test(tpl)?$.ajax({url:tpl,type:"GET",async:!1,success:function(_this){return function(e){return _this.xml=e}}(this)}):this.xml=tpl,repassBasicAttr.call(this)}var repassBasicAttr;return __extends(Template,_super),repassBasicAttr=function(){var _ref;return this.xml=$(this.xml).first(),null!=this.width&&this.xml.css("width",this.width),null!=this.height&&this.xml.css("height",this.height),null!=this.id&&this.xml[0].setAttribute("id",this.id),(null!=(_ref=this.style)?_ref.length:void 0)>0&&this.xml[0].setAttribute("style",""===this.xml[0].getAttribute("style")?this.style+";":(this.xml[0].getAttribute("style")||"")+this.style+";"),this.xml=this.xml[0].outerHTML},Template.prototype.compile=function(data){var result;return this.fireEvent("beforecompile",this,this.xml),this.hdb=Hdb.compile(this.xml),result=this.xmlCompiled=this.hdb(data),this.fireEvent("aftercompile",this,result),result},Template}(View),this.mf.Template=Template,Record=function(_super){function Record(data){Record.__super__.constructor.call(this),this.addEvent("change"),this.data=data,this.originalData=mf.clone(data),this.id=data.id||data._id||++Record._id}return __extends(Record,_super),Record._id=0,Record.prototype.get=function(prop){return this.data[prop]},Record.prototype.set=function(prop,val){var oldVal;return oldVal=this.get(prop),this.data[prop]=val,this.fireEvent("change",this,prop,oldVal,val),this},Record.prototype.replace=function(data){var old;return old=mf.clone(this.data),this.data=data,this.fireEvent("change",this,Object.keys(data),old,this.data),this},Record}(Observable),this.mf.Record=Record,Store=function(_super){function Store(config){null==config&&(config={}),this.inialStoreConfig(config),Store.__super__.constructor.call(this),Application.context.push(this),this.addEvent(["insert","update","delete","remove","load","beforeload","loadfailure","afterload","clear"]),null!=config.data&&this.add(config.data),this.autoLoad&&this.loadConfig&&this.load(null,this.loadNamespace)}var _findByCallback,_findByParams,_onRecordChange;return __extends(Store,_super),Store.prototype.rebuildOnChange=!0,Store.prototype.storeId=null,Store.prototype.inialStoreConfig=function(config){var _ref;return null==config&&(config={}),_ref=[[],[],[],!1,null,!1,null],this.store=_ref[0],this.removedRecords=_ref[1],this.updatedRecords=_ref[2],this.loaded=_ref[3],this.loadConfig=_ref[4],this.autoLoad=_ref[5],this.loadNamespace=_ref[6],this.applyConfig(this,config,!0),this},Store.prototype.add=function(record,criterio,oneFire){var existentRecord,rec,_i,_len;if(null==criterio&&(criterio={}),null==oneFire&&(oneFire=!1),Array.isArray(record)){for(_i=0,_len=record.length;_len>_i;_i++)rec=record[_i],this.add(rec,criterio,!0),null!=criterio.after&&(criterio.after+=1),null!=criterio.before&&(criterio.before+=1);this.fireEvent("insert",this,this.store,record)}else record instanceof Record||(record=new Record(record)),existentRecord=this.findAt(record.id),0===existentRecord.length&&(record.on("change",_onRecordChange.bind(this)),null!=criterio.after&&criterio.after>-1&&criterio.after<=this.store.length-1?this.store.splice(criterio.after,0,record):null!=criterio.before&&criterio.before>0&&criterio.before<=this.store.length-1?this.store.splice(criterio.before-1,0,record):this.store.push(record),Object.defineProperty(record,"index",{get:function(_this){return function(){return _this.store.indexOf(record)}}(this)}),oneFire||this.fireEvent("insert",this,this.store,record));return this},Store.prototype.getData=function(){var key,rec,_ref,_results;_ref=this.store,_results=[];for(key in _ref)rec=_ref[key],_results.push(rec.data);return _results},Store.prototype.toJSON=function(){return this.getData()},_onRecordChange=function(rec,prop,oldVal,val){var finded;return this.fireEvent("update",this,rec,prop,oldVal,val),finded=this.updatedRecords.filter(function(i){return i.id===rec.id}),finded.length?void 0:this.updatedRecords.push(rec)},Store.prototype.find=function(){return"function"==typeof arguments[0]?_findByCallback.apply(this,arguments):2===arguments.length?_findByParams.apply(this,arguments):void 0},Store.prototype.findAt=function(id){return this.store.filter(function(item){return item.id===id})},Store.prototype.getAt=function(index){return this.store[index]},Store.prototype.setLoadConfig=function(config){return this.loadConfig=config},Store.prototype.clear=function(){var key,rec,_i,_len,_ref;for(_ref=this.store,key=_i=0,_len=_ref.length;_len>_i;key=++_i)rec=_ref[key],delete this.store[key];return this.store=[],this.fireEvent("clear",this),this},Store.prototype.load=function(config,namespace){return null==namespace&&(namespace=null),this.fireEvent("beforeload",this,config),config=this.loadConfig=config||this.loadConfig,namespace=this.loadNamespace=namespace||this.loadNamespace,$.ajax(config).done(function(_this){return function(data,textStatus,jqXHR){var result;return result=data,namespace&&(result=result[namespace]),_this.fireEvent("load",_this,result,textStatus,jqXHR),_this.clear(),_this.add(result),_this.fireEvent("afterload",_this,result,textStatus,jqXHR)}}(this)).fail(function(_this){return function(data,textStatus,jqXHR){return _this.fireEvent("loadfailure",_this,data,textStatus,jqXHR)}}(this)),this},Store.prototype.setProxy=function(proxy){if(!(proxy instanceof Proxy))throw new Error("O objecto no  uma instancia de Proxy");return this.proxy=proxy,this.proxy.setStore(this),this},_findByCallback=function(callback){var result;return result=this.store.filter(callback)},_findByParams=function(prop,val){var result;return result=this.store.filter(function(item){return item.get(prop)===val})},Store.prototype.remove=function(){var args,rec,recs,_i,_len;for(args=1<=arguments.length?__slice.call(arguments,0):[],this.removedRecords=[],recs=this.find.apply(this,args),_i=0,_len=recs.length;_len>_i;_i++)rec=recs[_i],this.removedRecords.push.apply(this.removedRecords,this.store.splice(this.store.indexOf(rec),1));return this.fireEvent(["delete","remove"],this,this.store,this.removedRecords),this},Store.lookup=function(id){var store;return store=Application.context.filter(function(Objs){return Objs instanceof Store&&Objs.storeId===id}),store[0]},Store}(Observable),this.mf.Store=Store,Proxy=function(_super){function Proxy(config){null==config&&(config={}),this.applyConfig(this,config,!0),Proxy.__super__.constructor.call(this,this),this.getAdapter(config)}return __extends(Proxy,_super),Proxy.SOCKET="Socket",Proxy.prototype.bridge=null,Proxy.prototype.type=Proxy.SOCKET,Proxy.prototype.store=null,Proxy.prototype.getAdapter=function(config){switch(config.type){case Proxy.SOCKET:return this.bridge=new Socket(config.bridge);default:throw new Error("Proxy.type no suportado.")}},Proxy.prototype.setStore=function(store){if(!(store instanceof Store))throw new Error("No  uma instancia de Store");return this.store=store,this.bridge.bindsForStore(store)},Proxy}(Core),this.mf.Proxy=Proxy,BridgeInterface=function(_super){function BridgeInterface(config){null==config&&(config={}),this.applyConfig(this,config,!0),BridgeInterface.__super__.constructor.call(this,this)}var interfaceMethod;return __extends(BridgeInterface,_super),interfaceMethod=function(){throw new Error("Mtodo no implementado")},BridgeInterface.prototype.bindsForStore=interfaceMethod,BridgeInterface}(Observable),Socket=function(_super){function Socket(config){var _ref;if(null==config&&(config={}),"undefined"==typeof io||null===io)throw new Error("Socket.io no localizado");null!=config.events&&(events=mf.clone(config.events),delete config.events),"object"==typeof(null!=(null!=(_ref=config.extras)?_ref.query:void 0))&&(config.extras.query=JSON.toQueryString(config.extras.query)),this.socket=io.connect(config.host,config.extras),this.autoSync=config.autoSync||!0,this.applyConfig(this,config,!0),Socket.__super__.constructor.call(this,this),this.addEvent(events)}var events;return __extends(Socket,_super),Socket.prototype.socket=null,Socket.prototype.autoSync=!0,events=[],Socket.prototype.setEventWrapper=function(){var k,_i,_len,_ref,_results;for(this.socket.removeAllListeners(),_ref=this.events,_results=[],_i=0,_len=_ref.length;_len>_i;_i++)k=_ref[_i],_results.push(this.socket.on(k,function(_this){return function(){return _this.fireEvent.apply(_this,[].concat.apply([k],arguments).concat([_this,_this.socket]))}}(this)));return _results},Socket.prototype.on=function(event,callback,single){return null==single&&(single=!1),this.socket.on(event,function(_this){return function(){return _this.fireEvent.apply(_this,[].concat.apply([event],arguments).concat([_this,_this.socket]))}}(this)),Socket.__super__.on.call(this,event,callback,single)},Socket.prototype.emit=function(){return this.socket.emit.apply(this.socket,arguments)},Socket.prototype.bindsForStore=function(store){return store.enableReceive=!0,events.contains("insert")||this.on("insert",function(data){return store.enableReceive=!1,store.add(data),store.enableReceive=!0}),events.contains("remove")||this.on("remove",function(data){return store.enableReceive=!1,store.remove("id",data.id),store.enableReceive=!0}),events.contains("update")||this.on("update",function(data){var _ref;return store.enableReceive=!1,null!=(_ref=store.findAt(data.id)[0])&&_ref.replace(data),store.enableReceive=!0}),store.on("insert",function(_this){return function(store,collection,record){return store.enableReceive?_this.emit("insert",record):void 0}}(this)),store.on("remove",function(_this){return function(store,collection,record){return store.enableReceive?_this.emit("remove",record):void 0}}(this)),store.on("update",function(_this){return function(store,rec){return store.enableReceive?_this.emit("update",rec):void 0}}(this)),!0},Socket}(BridgeInterface),this.mf.Socket=Socket,AbstractComponent=function(_super){function AbstractComponent(config){null==config&&(config={}),AbstractComponent.__super__.constructor.call(this,config),Application.context.push(this)}return __extends(AbstractComponent,_super),AbstractComponent.prototype.setStyle=function(styles){var k,stBuild,v;if("string"==typeof styles)return stBuild=styles;if("object"==typeof styles){stBuild="";for(k in styles)v=styles[k],(null!=(null!=v&&"function"==typeof v.toString?v.toString().length:void 0))>0&&(stBuild+=""+k+": "+v+";");return stBuild}},AbstractComponent.prototype.checkForSpecialProperties=function(container){var style,to;return this.fullscreen&&(this.position=this.position||"absolute",this.top=this.top||0,this.bottom=this.bottom||0,this.left=this.left||0,this.right=this.right||0),style=this.float?{position:"absolute",top:this.direction===Container.vertical?0:null,bottom:this.direction===Container.vertical?0:null,left:this.direction===Container.horizontal?0:null,right:this.direction===Container.horizontal?0:null}:{flex:this.flex,"-webkit-flex":this.flex,"-moz-flex":this.flex,"-ms-flex":this.flex,"-o-flex":this.flex,"flex-direction":this.direction,"-webkit-flex-direction":this.direction,"-moz-flex-direction":this.direction,"-ms-flex-direction":this.direction,"-o-flex-direction":this.direction},style.position=null!=this.position?this.position:this.position=style.position,style.top=null!=this.top?this.top:this.top=style.top,style.bottom=null!=this.bottom?this.bottom:this.bottom=style.bottom,style.left=null!=this.left?this.left:this.left=style.left,style.right=null!=this.right?this.right:this.right=style.right,style=this.setStyle(style),to=container,style.length>0?to.setAttribute("style",(to.getAttribute("style")||"")+style):void 0},AbstractComponent}(Template),this.mf.AbstractComponent=AbstractComponent,Component=function(_super){function Component(config){var _ref,_ref1;null==config&&(config={}),this.defineInitialConfiguration(config),initialized||null!=(_ref=this.beforeInit)&&_ref.call(this),Component.__super__.constructor.call(this,this),this.addEvent(["render","afterrender","hide","show"]),null!=this.store&&this.createBinds(),this.render(),initialized||null!=(_ref1=this.init)&&_ref1.call(this),initialized=!0}var explodeSelector,initialized,rebuildTypes;return __extends(Component,_super),initialized=!1,Component.prototype.render=function(newData){return null==newData&&(newData=null),this.beforeRender(newData),this.checkForSpecialProperties(this.xmlCompiled[0]),this.makeView(),this},Component.prototype.beforeRender=function(newData){return null==newData&&(newData=null),this.xmlCompiled=$(this.compile(newData||this)),this.fireEvent("render",this)},Component.prototype.makeView=function(){var to;return"function"==typeof this.renderTo?to=this.renderTo():null!=this.renderTo&&(to=this.renderTo),null!=to?($(this.xmlCompiled).first().attr("data-id")&&$(to).first().attr("data-id")===$(this.xmlCompiled).first().attr("data-id")?$(to).replaceWith(this.xmlCompiled):$(to).html(this.xmlCompiled),this.fireEvent("afterrender",this,this.xmlCompiled)):void 0},Component.prototype.createBinds=function(){return this.store.on("update",function(_this){return function(){return _this.store.rebuildOnChange?_this.render():void 0}}(this)),this.store.on("insert",function(_this){return function(){return _this.store.rebuildOnChange?_this.render():void 0}}(this)),this.store.on("delete",function(_this){return function(){return _this.store.rebuildOnChange?_this.render():void 0}}(this)),this.store.on("clear",function(_this){return function(){return _this.store.rebuildOnChange?_this.render():void 0}}(this))},Component.prototype.defineInitialConfiguration=function(config){return null==config&&(config={}),this.applyConfig(this,config),this.hidden=!1,initialized=!1,!0},Component.prototype.query=function(selector){return selector?$(this.xmlCompiled).find(selector):$(this.xmlCompiled).first()},Component.prototype.hide=function(){return this.xmlCompiled.hide(),this.hidden=!0,this.fireEvent("hide",this,this.xmlCompiled),this},Component.prototype.show=function(){return this.xmlCompiled.show(),this.hidden=!1,this.fireEvent("show",this,this.xmlCompiled),this},Component.prototype.toggle=function(){return this.hidden?this.show():this.hide()},Component.PseudoSelectors={parent:function(v,scope){var InnerCmp,component,tempC,upperComponents,_i,_len;if(component=[],upperComponents=[],tempC=[],tempC=scope.map(function(obj){return null!=obj.parent?[obj.parent]:void 0}),tempC=tempC.filter(function(e){return e}),tempC.length>0)for(_i=0,_len=tempC.length;_len>_i;_i++)InnerCmp=tempC[_i],upperComponents.push(Component.PseudoSelectors.parent(v,InnerCmp));return[].concat.apply(component,[].concat.apply(tempC,upperComponents))}},Component.FnSelectors={":\\w+\\(.+\\)":function(v,scope){var component,fn,key,obj,pseudo,value,_ref,_ref1;component=[],_ref=v.match(/:(\w+)\((.+)\)/i),pseudo=_ref[0],fn=_ref[1],value=_ref[2],_ref1=Component.PseudoSelectors;for(key in _ref1)if(obj=_ref1[key],RegExp("^"+key+"$").test(fn)){component=obj(value,scope);break}return component=Component.query(value,{components:component})},"\\[(.+)\\]":function(v,scope){var FnLogic,attr,component,key,logic,obj,sel,value,_ref;if(component=[],_ref=/\[(.+)(\b(?:\!|\||\?|\^|\$|\*)?=\b)(.+)\]/.exec(v)||/\[(.+)()()\]/.exec(v),sel=_ref[0],attr=_ref[1],logic=_ref[2],value=_ref[3],value=rebuildTypes(value),FnLogic={"=":function(obj){return obj[attr]===value?component.push(obj):void 0},"!=":function(obj){return obj[attr]!==value?component.push(obj):void 0},"|=":function(){},"?=":function(){},"^=":function(obj){return RegExp("^"+value).test(obj[attr])?component.push(obj):void 0},"$=":function(obj){return RegExp(""+value+"$").test(obj[attr])?component.push(obj):void 0},"*=":function(obj){return RegExp(""+value,"g").test(obj[attr])?component.push(obj):void 0}},""===logic&&""===value)for(key in scope)obj=scope[key],null!=obj[attr]&&component.push(obj);else for(key in scope)obj=scope[key],FnLogic[logic](obj);return component},"\\b\\w+\\b":function(v,scope){var component,key,obj;component=[];for(key in scope)obj=scope[key],obj._className===v&&-1===component.indexOf(obj)&&component.push(obj);return component},"\\s*>\\s*|\\s+":function(v,scope){var InnerCmp,component,depperComponents,tempC,_i,_len;if(component=[],depperComponents=[],tempC=[],tempC=scope.map(function(obj){return obj.components}),tempC=tempC.filter(function(e){return e}),/^\s+$/.test(v)&&tempC.length>0)for(_i=0,_len=tempC.length;_len>_i;_i++)InnerCmp=tempC[_i],depperComponents.push(Component.FnSelectors["\\s*>\\s*|\\s+"](v,InnerCmp));return[].concat.apply(component,[].concat.apply(tempC,depperComponents))},"(\\.)|(#).+":function(v,scope){var component,key,obj;component=[];for(key in scope)obj=scope[key],obj.query().is(v)&&component.push(obj);return component}},rebuildTypes=function(str){var val;return val=null,val="true"===str||"false"===str?eval(str):/^\d+$/.test(str)?Number(str):str},Component.query=function(selector,context){var components;return null==context&&(context=null),components=[],selector.split(",").forEach(function(sel){return components.push(explodeSelector(sel.trim(),context))}),[].concat.apply([],components)},explodeSelector=function(selector,context){var component;return null==context&&(context=null),null!=context&&(context=[context],selector=">"+selector),component=context||Application.context,selector.replace(/(\..+)|(#.+)|(\[([^\#\.]\w+.{0,2}[^\#\.]\w+)\])|(\s*>\s*)|(\s+)|(:\w+\(.+\))|([^\#\.:]\w+)/gi,function(v){var key,obj,_ref,_results;_ref=Component.FnSelectors,_results=[];for(key in _ref){if(obj=_ref[key],RegExp("^"+key+"$").test(v)){component=obj(v,component);break}_results.push(void 0)}return _results}),component},Component}(AbstractComponent),mf.Component=Component,Container=function(_super){function Container(config){null==config&&(config={}),this.applyConfig(this,config),Container.__super__.constructor.call(this,this),this.addEvent(["resize"])}return __extends(Container,_super),Container.horizontal="row",Container.vertical="column",Container.Ihorizontal="row-reverse",Container.Ivertical="column-reverse",Container.prototype.containerCls="-mf-flex-container",Container.prototype.direction=Container.horizontal,Container.prototype.float=!1,Container.prototype.transitionCls="",Container.prototype.adicionalCls="",Container.prototype.fullscreen=!1,Container.prototype.components=[],Container.prototype.tpl='<div class="{{containerCls}} {{transitionCls}} {{adicionalCls}}"> {{#each components}} {{Component .}} {{/each}} </div>',Container}(Component),this.mf.Container=Container,Toolbar=function(_super){function Toolbar(config){null==config&&(config={}),this.applyConfig(this,config),this.setups(),this.adicionalCls+=" "+this.toolbarCls+" ",Toolbar.__super__.constructor.call(this,this)}return __extends(Toolbar,_super),Toolbar.top="top",Toolbar.right="right",Toolbar.bottom="bottom",Toolbar.left="left",Toolbar.prototype.toolbarCls="-mf-toolbar-container",Toolbar.prototype.position="fixed",Toolbar.prototype.side=Toolbar.top,Toolbar.prototype.size="auto",Toolbar.prototype.setSide=function(val){return this.side=val,this.setups(),this.render()},Toolbar.prototype.setups=function(){switch(this.side){case Toolbar.top:return this.top=0,this.left=0,this.right=0,this.height=this.size,this.direction=Container.horizontal;case Toolbar.right:return this.top=0,this.bottom=0,this.right=0,this.width=this.size,this.direction=Container.vertical;case Toolbar.bottom:return this.left=0,this.bottom=0,this.right=0,this.height=this.size,this.direction=Container.horizontal;case Toolbar.left:return this.left=0,this.bottom=0,this.top=0,this.width=this.size,this.direction=Container.vertical}},Toolbar}(Container),this.mf.Toolbar=Toolbar,ListView=function(_super){function ListView(config){null==config&&(config={}),this.applyConfig(this,config),ListView.__super__.constructor.call(this,this),init.call(this)}var init,performateMenuClick,renderComportamentoLinks;return __extends(ListView,_super),ListView.prototype.tpl='<nav class="{{containerCls}}"> <ul> {{#if loading}} <p>{{nome}}</p> {{else}} {{#Store .}} <li class="-mf-flex-container"> <a href="{{href}}" class="{{-mf-active-class}}"><i class="fa fa-{{icon}}"></i> <span>{{nome}}</span></a></li> {{/Store}} {{/if}} </ul> </nav>',ListView.prototype.store=null,ListView.prototype.containerCls="-mf-listview-container",init=function(){return this.addEvent(["itemtap"]),this.on("afterrender",renderComportamentoLinks.bind(this))},renderComportamentoLinks=function(comp){return $(comp.xmlCompiled).find("a").on("tap",function(_this){return function(e){return performateMenuClick.call(_this,comp,_this.store.find(function(item){return item.get("nome").toUpperCase().trim()===e.target.innerText.trim()})),e.preventDefault()}}(this))},performateMenuClick=function(comp,rec){var el;return this.store.enableEvents(!1),this.store.find("-mf-active-class","active").map(function(_rec){return _rec.set("-mf-active-class",null)}),rec[0].set("-mf-active-class","active"),this.store.enableEvents(!0),this.query(".active").removeClass("active"),el=this.query("[data-record-internal-id="+rec[0].id+"] a").addClass("active"),this.fireEvent("itemtap",this,rec[0],el),rec[0]},ListView}(Component),this.mf.ListView=ListView,Divider=function(_super){function Divider(config){null==config&&(config={}),this.applyConfig(this,config),Divider.__super__.constructor.call(this,this)}return __extends(Divider,_super),Divider.prototype.componentCls="-mf-divider",Divider.prototype.tpl='<hr class="{{componentCls}}" />',Divider}(Component),this.mf.Divider=Divider,Spacer=function(_super){function Spacer(config){null==config&&(config={}),this.applyConfig(this,config),Spacer.__super__.constructor.call(this,this)}return __extends(Spacer,_super),Spacer.prototype.tpl="<div></div>",Spacer}(Component),Button=function(_super){function Button(config){null==config&&(config={}),this.applyConfig(this,config),Button.__super__.constructor.call(this,this),this.addEvent(["tap","swipe","hold"]),init.call(this)}var init;return __extends(Button,_super),Button.prototype.containerCls="-mf-button-container",Button.prototype.componentCls="-mf-button",Button.prototype.text="",Button.prototype.icon="",Button.prototype.badge=!1,Button.prototype.tpl='<div class="{{containerCls}}"> <button class="{{componentCls}}"> <i class="fa fa-{{icon}}"></i>{{text}} {{#if badge}} <div class="-mf-badge">{{badge}}</div> {{/if}} </button> </div>',init=function(){return this.on("afterrender",function(_this){return function(){return _this.query("button").on("tap press",function(e){return _this.fireEvent("tap",_this,e.target,e),e.stopPropagation()
})}}(this))},Button}(Component),this.mf.Button=Button}.call(this);